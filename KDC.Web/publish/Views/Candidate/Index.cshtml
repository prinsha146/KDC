@model IEnumerable<KDC.DL.ViewModel.CandidateVM>

@{
	ViewBag.Title = "Index";
	Layout = "~/Views/Shared/_Layout.cshtml";
}

                      <script>
                          function printPageArea(areaID) {
                              document.head.insertAdjacentHTML('beforeend', '');
                              var printContent = document.getElementById(areaID);
                              var WinPrint = window.open('', '', 'width=900,height=650');
                              WinPrint.document.write(printContent.innerHTML);
                              WinPrint.document.close();
                              WinPrint.focus();
                              WinPrint.print();
                              WinPrint.close();
                          }
                      </script>
<section class="content-header">
	<h1>Candidate List</h1>
	<ol class="breadcrumb">
		<li class="list"><a href="@Url.Action("Create", "Candidate")"><i class="fa fa-plus-circle"></i> Add </a></li>
	</ol>
</section>

<section class="content">
	<div class="box box-primary">
		<div class="box-body pt-10">
            <div>
                @using (Html.BeginForm())
    {
            @Html.AntiForgeryToken()
{

            <form style="background:#eee" class="col-sm-12 p-10 mb-10">
                <div class="col-sm-3">
                    <div class="form-group">
                        <label>Lab No.</label>
                        <input type="text" class="form-control" name="LabCode" id="LabCode" />
                    </div>
                </div>


                <div class="col-sm-2">
                    <div class="form-group">
                        <label><span style="color: #EEEEEE">print</span></label>
                        <input type="submit" class="form-control btn btn-primary" name="search" id="search" value="Search" />
                    </div>
                </div>
            </form>
}
}
            </div>

            <div class="clearfix"></div>
			<div class="table-responsive">
                <table id="example" class="table table-bordered table-striped table-condensed">
                    <thead>
                    <tr class="">
                        <th>
                            Candidate Detail
                        </th>
                        <th>
                            Lab No
                        </th>
                        @*<th>
                    @Html.DisplayNameFor(model => model.DistrictName)
                </th>
                <th>
                    @Html.DisplayName("Contact No")
                </th>
                                    <th>
                                        @Html.DisplayNameFor(model => model.Gender)
                                    </th>
                                    <th>
                                        @Html.DisplayName("DOB")
                                    </th>*@
                        <th>
                            Visa Info / Visa Stamping Country
                        </th>
                        @*<th>
                    @Html.DisplayNameFor(model => model.RQNoManpower)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.GamcaNo)
                </th>*@
                        @*<th>
                    @Html.DisplayNameFor(model => model.DateOfIssueByKDC_AD)
                </th>*@
                        <th>
                            @Html.DisplayName("Job Profession")
                        </th>
                        <th>
                            @Html.DisplayName("Passport No")
                        </th>
                        @*<th>
                    @Html.DisplayNameFor(model => model.RecruitingAgencyID)
                </th>*@
                        @*<th>
                    @Html.DisplayName("Visa Stamping Country")
                </th>*@
                        @*<th>
                    @Html.DisplayNameFor(model => model.InvoiceNo)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.PhotoScanned)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.PhotoCamera)
                </th>*@
                        @*<th>
                    @Html.DisplayNameFor(model => model.Barcode)
                </th>*@
                        <th class="hidden">Barcode</th>
                        <th>Report</th>
                        <th>Action</th>
                    </tr>
                    </thead>
                    <tbody>
                        @foreach (var item in Model)
                        {
                            <tr>
                                <td width="200px">
                                    @Html.DisplayFor(modelItem => item.CandidateName) <br />
                                    @*Contact No. : @Html.DisplayFor(modelItem => item.ContactNo) <br/>
                        Gender : @Html.DisplayFor(modelItem => item.Gender) <br />
                        DOB : @(((DateTime)item.DOB_AD).ToString("yyyy/MM/dd"))*@
                                </td>
                                <td>@item.LabCode </td>
                                @*<td>
                        @Html.DisplayFor(modelItem => item.DistrictName)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.ContactNo)
                    </td>
                                            <td>
                                                @Html.DisplayFor(modelItem => item.Gender)
                                            </td>
                                            <td>
                                                @(((DateTime)item.DOB_AD).ToString("yyyy/MM/dd"))
                                            </td>*@
                                <td>
                                    @Html.DisplayFor(modelItem => item.VisaNo) /
                                    @Html.DisplayFor(modelItem => item.Country)
                                </td>
                                @*<td>
                        @Html.DisplayFor(modelItem => item.VisaDate)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.RQNoManpower)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.GamcaNo)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.DateOfIssueByKDC_AD)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.Height_in_cm)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.Weight_in_kg)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.Nationality)
                    </td>*@
                                <td>
                                    @Html.DisplayFor(modelItem => item.Job)
                                </td>
                                <td>
                                    @Html.DisplayFor(modelItem => item.PassportNo)
                                </td>
                                @*<td>
                        @Html.DisplayFor(modelItem => item.RecruitingAgencyID)
                    </td>*@
                                @*<td>
                        @Html.DisplayFor(modelItem => item.Country)
                    </td>*@
                                @*<td>
                        @Html.DisplayFor(modelItem => item.InvoiceNo)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.FingerPrint)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.PhotoScanned)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.PhotoCamera)
                    </td>*@
                                @*<td>
                        @Html.DisplayFor(modelItem => item.Barcode)
                    </td>*@

                                @*<td>
                        @Html.DisplayFor(modelItem => item.LabNoIdThisYear)
                    </td>*@
                                <td class="hidden">@item.Barcode
                                    <div id="printableArea_@item.Barcode">
                                    <svg id="B_@item.Barcode" style="height:90px"></svg>
                                    <script>
                                        JsBarcode("#B_@item.Barcode", "@item.Barcode");
                                    </script>
                                    </div>
                                </td>

                                <td>
                                    @if (item.LabTestEnteredBy > 0)
                                    {
                                        <a href="Report/LaboratoryReport/@item.LabCode"><span class="btn bg-purple btn-xs">View</span></a>
                                    }
                                    else
                                    {
                                        <span>Waiting..</span>
                                    }
                                </td>
                                <td>
                                    <a class="btn btn-xs btn-success" href="javascript:void(0);" onclick="printPageArea('printableArea_@item.Barcode')">Print Bracode</a>
                                    <a href="~/Candidate/Edit/@item.CandidateID"><span class="btn btn-success btn-xs">Edit</span></a>
                                    <a href="~/Candidate/Details/@item.CandidateID"> <span class="btn btn-primary btn-xs">Detail</span></a>

                                </td>
                            </tr>

                        }
                    </tbody>
                </table>
			</div>
		</div>
	</div>
</section>